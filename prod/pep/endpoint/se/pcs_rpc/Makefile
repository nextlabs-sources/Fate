ifeq ($(NLBUILDROOT),)
  $(error NLBUILDROOT undefined.)
endif

ifeq ($(NLEXTERNALDIR),)
  $(error NLEXTERNALDIR undefined.)
endif

TARGETS += pcs_idl_tab
CLEANFILES += 

include $(NLBUILDROOT)/build/Makefile

# Notes: On build VM when build under Hudson, the files generated by Cygwin flex and bison 
# seem to have permission problem. This pcs_rpc target works when invoked the first time
# for x86 build. When it is invoked a second time by x64 build, it fails. This problem does
# not exist when invoked in Cygwin after logging in as build. Try to delete output files 
# to avoid this problem. 
pcs_idl_tab:
	flex --outfile=src/pcs_idl_lex.cpp src/pcs_idl_lexer.l
	bison --defines --output=src/pcs_idl_grammar_tab.cpp src/pcs_idl_grammar.y
